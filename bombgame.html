<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>é»æ“Šä¸Ÿç‚¸å½ˆå°éŠæˆ²</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
        }

        h1 {
            margin-top: 20px;
        }

        #gameArea {
            position: relative;
            width: 90%;
            max-width: 600px;
            height: 400px;
            margin: 20px auto;
            background-color: #ddd;
            border: 3px solid #333;
            cursor: crosshair;
            overflow: hidden;
        }

        #target {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: red;
            border-radius: 50%;
        }

        #bomb {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: orange;
            border-radius: 50%;
            display: none;
        }

        #info {
            font-size: 18px;
            margin-top: 10px;
        }

        p {
            color: #555;
        }
    </style>
</head>
<body>

    <h1>ğŸ’£ é»æ“Šä¸Ÿç‚¸å½ˆå°éŠæˆ²</h1>
    <p>ç›®æ¨™æœƒè¶Šä¾†è¶Šå¿«ï¼ŒæŒ‘æˆ°ä½ çš„åæ‡‰åŠ›ï¼</p>

    <div id="gameArea">
        <div id="target"></div>
        <div id="bomb"></div>
    </div>

    <div id="info">
        åˆ†æ•¸ï¼š<span id="score">0</span>ã€€
        æœ€é«˜åˆ†ï¼š<span id="highScore">0</span>
    </div>

    <script>
        const gameArea = document.getElementById("gameArea");
        const target = document.getElementById("target");
        const bomb = document.getElementById("bomb");
        const scoreText = document.getElementById("score");
        const highScoreText = document.getElementById("highScore");

        let score = 0;
        let throwing = false;

        // è®€å–æœ€é«˜åˆ†
        let highScore = localStorage.getItem("highScore") || 0;
        highScoreText.textContent = highScore;

        // ç›®æ¨™ä½ç½®èˆ‡é€Ÿåº¦
        let targetX = 100;
        let targetY = 100;
        let targetVX = 2;
        let targetVY = 2;

        function moveTarget() {
            const maxX = gameArea.clientWidth - 50;
            const maxY = gameArea.clientHeight - 50;

            targetX += targetVX;
            targetY += targetVY;

            if (targetX <= 0 || targetX >= maxX) targetVX *= -1;
            if (targetY <= 0 || targetY >= maxY) targetVY *= -1;

            target.style.left = targetX + "px";
            target.style.top = targetY + "px";
        }

        setInterval(moveTarget, 20);

        gameArea.addEventListener("click", function (e) {
            if (throwing) return;
            throwing = true;

            const rect = gameArea.getBoundingClientRect();
            const clickX = e.clientX - rect.left - 10;
            const clickY = e.clientY - rect.top - 10;

            let bombX = gameArea.clientWidth / 2 - 10;
            let bombY = 0;

            bomb.style.left = bombX + "px";
            bomb.style.top = bombY + "px";
            bomb.style.display = "block";

            const dx = (clickX - bombX) / 30;
            const dy = (clickY - bombY) / 30;

            let steps = 0;

            const interval = setInterval(() => {
                bombX += dx;
                bombY += dy;

                bomb.style.left = bombX + "px";
                bomb.style.top = bombY + "px";

                const bombRect = bomb.getBoundingClientRect();
                const targetRect = target.getBoundingClientRect();

                if (
                    bombRect.right > targetRect.left &&
                    bombRect.left < targetRect.right &&
                    bombRect.bottom > targetRect.top &&
                    bombRect.top < targetRect.bottom
                ) {
                    score++;
                    scoreText.textContent = score;

                    // â­ é›£åº¦æå‡ï¼šç›®æ¨™åŠ é€Ÿ
                    targetVX *= 1.1;
                    targetVY *= 1.1;

                    // â­ æ›´æ–°æœ€é«˜åˆ†
                    if (score > highScore) {
                        highScore = score;
                        localStorage.setItem("highScore", highScore);
                        highScoreText.textContent = highScore;
                    }

                    clearInterval(interval);
                    bomb.style.display = "none";
                    throwing = false;
                }

                if (steps > 30) {
                    clearInterval(interval);
                    bomb.style.display = "none";
                    throwing = false;
                }

                steps++;
            }, 20);
        });
    </script>

</body>
</html>
