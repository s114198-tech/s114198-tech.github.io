<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>é»æ“Šä¸Ÿç‚¸å½ˆå°éŠæˆ²</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
        }

        h1 {
            margin-top: 20px;
        }

        #gameArea {
            position: relative;
            width: 90%;
            max-width: 600px;
            height: 400px;
            margin: 20px auto;
            background-color: #ddd;
            border: 3px solid #333;
            cursor: crosshair;
            overflow: hidden;
        }

        #target {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: red;
            border-radius: 50%;
        }

        #bomb {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: orange;
            border-radius: 50%;
            display: none;
        }

        #info {
            font-size: 18px;
            margin-top: 10px;
        }

        #time {
            color: #d32f2f;
            font-weight: bold;
        }

        #gameOver {
            font-size: 24px;
            color: #d32f2f;
            margin-top: 15px;
            display: none;
        }

        #restartBtn {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #2196F3;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            display: none;
        }

        #restartBtn:hover {
            background-color: #1976D2;
        }
    </style>
</head>
<body>

    <h1>ğŸ’£ é»æ“Šä¸Ÿç‚¸å½ˆå°éŠæˆ²</h1>
    <p>60 ç§’å…§æ“Šä¸­è¶Šå¤šç›®æ¨™è¶Šå¥½ï¼</p>

    <div id="gameArea">
        <div id="target"></div>
        <div id="bomb"></div>
    </div>

    <div id="info">
        åˆ†æ•¸ï¼š<span id="score">0</span>ã€€
        æœ€é«˜åˆ†ï¼š<span id="highScore">0</span>ã€€
        å‰©é¤˜æ™‚é–“ï¼š<span id="time">60</span> ç§’
    </div>

    <div id="gameOver">â° æ™‚é–“åˆ°ï¼</div>
    <button id="restartBtn">ğŸ” é‡æ–°é–‹å§‹</button>

    <script>
        const gameArea = document.getElementById("gameArea");
        const target = document.getElementById("target");
        const bomb = document.getElementById("bomb");
        const scoreText = document.getElementById("score");
        const highScoreText = document.getElementById("highScore");
        const timeText = document.getElementById("time");
        const gameOverText = document.getElementById("gameOver");
        const restartBtn = document.getElementById("restartBtn");

        let score = 0;
        let throwing = false;
        let gameActive = false;
        let timer;

        // æœ€é«˜åˆ†
        let highScore = localStorage.getItem("highScore") || 0;
        highScoreText.textContent = highScore;

        // ç›®æ¨™ç‹€æ…‹
        let targetX, targetY, targetVX, targetVY;

        function startGame() {
            score = 0;
            scoreText.textContent = score;

            gameActive = true;
            throwing = false;

            targetX = 100;
            targetY = 100;
            targetVX = 2;
            targetVY = 2;

            gameOverText.style.display = "none";
            restartBtn.style.display = "none";

            timeLeft = 60;
            timeText.textContent = timeLeft;

            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                timeText.textContent = timeLeft;

                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            gameActive = false;
            clearInterval(timer);
            gameOverText.style.display = "block";
            restartBtn.style.display = "inline-block";
        }

        function moveTarget() {
            if (!gameActive) return;

            const maxX = gameArea.clientWidth - 50;
            const maxY = gameArea.clientHeight - 50;

            targetX += targetVX;
            targetY += targetVY;

            if (targetX <= 0 || targetX >= maxX) targetVX *= -1;
            if (targetY <= 0 || targetY >= maxY) targetVY *= -1;

            target.style.left = targetX + "px";
            target.style.top = targetY + "px";
        }

        setInterval(moveTarget, 20);

        gameArea.addEventListener("click", function (e) {
            if (!gameActive || throwing) return;
            throwing = true;

            const rect = gameArea.getBoundingClientRect();
            const clickX = e.clientX - rect.left - 10;
            const clickY = e.clientY - rect.top - 10;

            let bombX = gameArea.clientWidth / 2 - 10;
            let bombY = 0;

            bomb.style.left = bombX + "px";
            bomb.style.top = bombY + "px";
            bomb.style.display = "block";

            const dx = (clickX - bombX) / 30;
            const dy = (clickY - bombY) / 30;

            let steps = 0;

            const interval = setInterval(() => {
                bombX += dx;
                bombY += dy;

                bomb.style.left = bombX + "px";
                bomb.style.top = bombY + "px";

                const bombRect = bomb.getBoundingClientRect();
                const targetRect = target.getBoundingClientRect();

                if (
                    bombRect.right > targetRect.left &&
                    bombRect.left < targetRect.right &&
                    bombRect.bottom > targetRect.top &&
                    bombRect.top < targetRect.bottom
                ) {
                    score++;
                    scoreText.textContent = score;

                    targetVX *= 1.1;
                    targetVY *= 1.1;

                    if (score > highScore) {
                        highScore = score;
                        localStorage.setItem("highScore", highScore);
                        highScoreText.textContent = highScore;
                    }

                    clearInterval(interval);
                    bomb.style.display = "none";
                    throwing = false;
                }

                if (steps > 30) {
                    clearInterval(interval);
                    bomb.style.display = "none";
                    throwing = false;
                }

                steps++;
            }, 20);
        });

        restartBtn.addEventListener("click", startGame);

        // é è¨­å…ˆé–‹å§‹ä¸€å±€
        startGame();
    </script>

</body>
</html>

